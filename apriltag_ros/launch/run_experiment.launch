<launch>

  <include file="$(find realsense2_camera)/launch/rs_camera.launch" >
    <arg name="color_width" value="1280" />
    <arg name="color_height" value="720" />
    <arg name="color_fps" value="30" />
    <arg name="enable_depth" value="false" />
  </include>

  <rosparam>
        /camera/l500_depth_sensor/global_time_enabled: true
        /camera/motion_module/global_time_enabled: true
        /camera/rgb_camera/global_time_enabled: true
  </rosparam>

  <include file="$(find apriltag_ros)/launch/continuous_detection.launch" >
    <arg name="node_namespace" value="opc_detector" />
    <arg name="image_topic" value="/camera/color/image_raw" />
    <arg name="camera_info_topic" value="/camera/color/camera_info" />
    <arg name="publish_tag_detections_image" value="false" />
  </include>


  <!-- Add static TF publishers here -->

  <!-- Door_handle to the door panel tag -->
  <node pkg="tf" type="static_transform_publisher" name="handle_to_door_tag" args="-0.42 -0.82 0.035 0 0 0 tag_door_panel_center door_handle 1" />

  <!-- Door base to the door panel tag -->
  <node pkg="tf" type="static_transform_publisher" name=" doorway_center" args="camera_link door_base 1" /> <!-- TODO update with calibration-->

  <!-- Camera's frame to the robot's odom frame -->
  <node pkg="tf" type="static_transform_publisher" name=" camera_to_odom" args="odom camera_link 1" /> <!-- TODO update with calibration -->

</launch>
