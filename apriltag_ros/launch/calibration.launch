<launch>
  <arg name="tags_path" />

  <include file="$(find apriltag_ros)/launch/continuous_detection.launch" >
    <arg name="node_namespace" value="opc_detector" />
    <arg name="image_topic" value="/usb_cam/undistorted/image" />
    <arg name="camera_info_topic" value="/usb_cam/undistorted/camera_info" />
    <arg name="settings_path" value="$(find apriltag_ros)/config/settings.yaml" />
    <arg name="tags_path" value="$(arg tags_path)" />

    <arg name="publish_tag_detections_image" value="true" />
  </include>

  <include file="$(find apriltag_ros)/launch/continuous_detection.launch" >
    <arg name="node_namespace" value="robot_detector" />
    <arg name="image_topic" value="/wide_angle_camera_front/image_mono" />
    <arg name="camera_info_topic" value="/wide_angle_camera_front/camera_info" />
    <arg name="settings_path" value="$(find apriltag_ros)/config/settings.yaml" />
    <arg name="tags_path" value="$(arg tags_path)" />

    <arg name="publish_tag_detections_image" value="true" />
    <arg name="tf_prefix" value="robot" />
  </include>

  
  <!-- Add static TF publishers here - PULL -->
  <node pkg="tf" type="static_transform_publisher" name="measure_doorway_center" args="0 -1.85 0 -3.1416 0 1.5708 tag_door_panel_center door_base 1" />
  <node pkg="tf" type="static_transform_publisher" name="measure_door_handle" args="-0.403 -0.811 0.075 0 0 0 tag_door_panel_center door_handle 1" />
  <!-- <node pkg="tf" type="static_transform_publisher" name="handle_to_door_tag" args="-0.433 -0.831 0.075 0 0 0 tag_door_panel_center door_handle 1" /> tuning for opening -->

  <!-- FAKE Door -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="measure_doorway_center" args="0 -1.85 0.5 -3.1416 0 1.5708 tag_door_panel_center door_base 1" /> -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="measure_door_handle" args="-0.383 -0.831 0.575 0 0 0 tag_door_panel_center door_handle 1" /> -->

  <!-- Add static TF publishers here - PUSH -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="measure_doorway_center" args="0 -1.85 0 -3.1416 0 1.5708 tag_door_panel_center door_base 1" /> -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="measure_door_handle" args="0.380, -0.834, 0.075 0 0 0 tag_door_panel_center door_handle 1" /> -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="measure_door_handle" args="0.360, -0.834, 0.075 0 0 0 tag_door_panel_center door_handle 1" /> -->

</launch>
